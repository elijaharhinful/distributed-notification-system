# api-gateway/.env
NODE_ENV=development
PORT=3000
API_PREFIX=api

JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=24h

RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672
RABBITMQ_QUEUE_PREFIX=notifications

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

USER_SERVICE_URL=http://user-service:3001
TEMPLATE_SERVICE_URL=http://template-service:3002
EMAIL_SERVICE_URL=http://email-service:3003
PUSH_SERVICE_URL=http://push-service:8080

USER_SERVICE_PREFIX=/users
TEMPLATE_SERVICE_PREFIX=/templates
EMAIL_SERVICE_PREFIX=/email
PUSH_SERVICE_PREFIX=/push

RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=100

HTTP_TIMEOUT=5000
CIRCUIT_BREAKER_TIMEOUT=10000
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

LOG_LEVEL=debug


# user-service/.env
NODE_ENV=development
PORT=3001
API_PREFIX=api/v1

DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=admin
DATABASE_NAME=user_service_db

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TTL=3600

JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=24h

SERVICE_NAME=user-service
LOG_LEVEL=debug


# template-service/.env
PORT=3002

DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=admin
DATABASE_NAME=template_db

REDIS_URL=redis://redis:6379
RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672


# email-service/.env
PORT=3003
NODE_ENV=development

RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672

REDIS_URL=redis://redis:6379

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=notifications@example.com

API_GATEWAY_URL=http://template-service:3000
USER_SERVICE_URL=http://user-service:3001
TEMPLATE_SERVICE_URL=http://template-service:3002

TEMPLATE_CACHE_TTL=3600  
USER_PREFS_CACHE_TTL=1800 
IDEMPOTENCY_TTL=86400   

RATE_LIMIT_WINDOW=60        
RATE_LIMIT_MAX_REQUESTS=100  


# push-service/.env
RABBITMQ_URL=amqp://admin:admin@rabbitmq:5672/
PUSH_QUEUE_NAME=push_notifications
FAILED_QUEUE_NAME=failed_notifications
PREFETCH_COUNT=10

REDIS_URL=redis://redis:6379/0
IDEMPOTENCY_TTL_SECONDS=3600

DATABASE_URL=postgres://postgres:admin@postgres:5432/notifications_db

TEMPLATE_SERVICE_URL=http://template-service:3002

FCM_PROJECT_ID=your_firebase_project_id_here
GOOGLE_APPLICATION_CREDENTIALS=./service-account.json

CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT_SECONDS=60
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3

MAX_RETRY_ATTEMPTS=5
INITIAL_RETRY_DELAY_MS=100
MAX_RETRY_DELAY_MS=5000
RETRY_BACKOFF_MULTIPLIER=2

WORKER_CONCURRENCY=4

SERVER_PORT=8080